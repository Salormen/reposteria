<!doctype html>
<html lang="esp">
<head>
    <meta charset="UTF-8">
    <title>TDM Manager</title>
    <! Angular>
    <script type="text/javascript" src="node_modules/angular-1.5.8/angular.js"></script>
    <script src="script.js"></script>
    <! Boostrap>
    <link rel="stylesheet" type="text/css" href="node_modules/bootstrap/dist/css/bootstrap.css">
    <script type="text/javascript" src="node_modules/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <!script src="node_modules/angular-material/angular-material.js"></script>
    <!script src="node_modules/angular-animate/angular-animate.min.js"></script>
    <!script src="node_modules/angular-aria/angular-aria.min.js"></script>
</head>
<body ng-app="managerModule">
    <div ng-controller="Controller">
        <div id="header">
        </div>
        <div id="contents">
            <div id="menu_frame" class="col-md-2">
                <button type="button" ng-click="seleccionarFrame('inscripcion')"> Inscripcion </button><br>
                <button type="button" ng-click="seleccionarFrame('sorteo')"> Sorteo </button><br>
                <button type="button" ng-click="seleccionarFrame('grupos')"> Grupos </button><br>
                <button type="button" ng-click="seleccionarFrame('llave')"> Llave </button><br>
            </div>
            <div id="content_frame" class="col-md-10">
                <div id="inscripcion_frame" data-ng-show="seSeleccionoFrame('inscripcion')">
                    Inscripcion <br>
                    <div class="md-inline-form">
                        <md-content layout-gt-sm="row" layout-padding>
                            <div>
                              <md-input-container>
                                <label>Nombre</label>
                                <input ng-model="nuevo_jugador.nombre" placeholder="Nombre del jugador">
                              </md-input-container>

                              <md-input-container>
                                <label>Club</label>
                                <input ng-model="nuevo_jugador.club" placeholder="Club del jugador">
                              </md-input-container>
                            
                              <md-input-container>
                                <label>Rating</label>
                                <input ng-model="nuevo_jugador.rating" placeholder="Rating del jugador">
                              </md-input-container>
                              <button type="button" ng-click="agregarNuevoJugador()">
                                  Agregar jugador
                              </button> 
                            </div>
                      </md-content>
                    </div>   
                    <div>
                        Jugadores inscriptos:   <br>
                        <table class="table table-condensed">
                            <thead>
                                <tr>
                                    <th> Rating </th>
                                    <th> Nombre del jugador </th>
                                    <th> Club </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="jugador in jugadores_inscriptos | orderBy:'parseInt(rating)':true ">
                                    <td> {{jugador.rating}}</td>
                                    <td> {{jugador.nombre}}</td>
                                    <td> {{jugador.club}}</td>
                                    <td> <button type="button" ng-click="eliminarJugador(jugador)"> X</button> </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div id="sorteo_frame" data-ng-show="seSeleccionoFrame('sorteo')">
                    sorteo
                    <div class="md-inline-form">
                        <md-content layout-gt-sm="row" layout-padding>
                            <div>
                              <md-input-container>
                                <label>Cantidad de jugadores por grupo</label>
                                <input ng-model="cant_por_grupo">
                              </md-input-container> <br>
                              <md-input-container>
                                <label>Cantidad de sets por partido en fase de grupos</label>
                                <input ng-model="sets_grupo">
                              </md-input-container> <br>
                              <button type="button" ng-click="asignar_grupos()">
                                  Sortear!
                              </button> 
                            </div>
                        </md-content>
                    </div>
                </div>
                <div id="grupos_frame" data-ng-show="seSeleccionoFrame('grupos')">
                    zonas <br><br><br>
                    <div id="menu_grupos" class="col-md-2">
                        <button ng-click="mostrar_todos_grupos()">
                            Todos los grupos
                        </button> 
                        <div ng-repeat="grupo in grupos | orderBy: 'id'">
                            <button ng-click="mostrar_grupo(grupo.id)">
                                Grupo {{grupo.id}}
                            </button> 
                        </div>                        
                    </div>
                    <div id="detalle_grupos" class="col-md-10">
                        <div data-ng-show="seSelecciono_todosLosGrupos">
                            <div ng-repeat="grupo in grupos | orderBy: 'id'">
                                Grupo {{grupo.id}}: <br>
                                <table class="table table-condensed">
                                    <thead>
                                        <tr>
                                            <th>Rating</th>
                                            <th>Jugador</th>
                                            <th>Club</th>
                                            <th ng-repeat="jugador in grupo.jugadores | orderBy:'rating':true ">{{jugador.nombre}}</th>
                                            <th>PG</th>
                                            <th>SG</th>
                                            <th>Dif</th>
                                            <th>Pos</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="jugador in grupo.jugadores | orderBy:'rating':true ">
                                            <td align="left">{{jugador.rating}}</td>
                                            <td align="left">{{jugador.nombre}}</td>
                                            <td align="left">{{jugador.club}}</td>
                                            <td align="left" ng-repeat="jOp in grupo.jugadores | orderBy:'rating':true ">{{resultadoEnGrupoDeContra(grupo, jugador, jOp)}}</td>
                                            <td align="left">{{partidosGanadosEnGrupo(grupo, jugador)}}</td>
                                            <td align="left">{{setsGanadosEnGrupo(grupo, jugador)}}</td>
                                            <td align="left">{{puntosGanadosEnGrupo(grupo, jugador)}}</td>
                                            <td align="left">{{posicionEnGrupo(grupo, jugador)}}</td>
                                        </tr>
                                    </tbody>
                                </table>                   
                            </div>
                        </div>
                        <div ng-repeat="grupo in grupos">
                            <div data-ng-show="seSelecciono_grupo(grupo.id)">
                                Grupo {{grupo.id}}: <br>
                                <table class="table table-condensed">
                                    <thead>
                                        <tr>
                                            <th>Rating</th>
                                            <th>Jugador</th>
                                            <th>Club</th>
                                            <th ng-repeat="jugador in grupo.jugadores | orderBy:'rating':true ">{{jugador.nombre}}</th>
                                            <th>PG</th>
                                            <th>SG</th>
                                            <th>Dif</th>
                                            <th>Pos</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="jugador in grupo.jugadores | orderBy:'rating':true ">
                                            <td align="left">{{jugador.rating}}</td>
                                            <td align="left">{{jugador.nombre}}</td>
                                            <td align="left">{{jugador.club}}</td>
                                            <td align="left" ng-repeat="jOp in grupo.jugadores | orderBy:'rating':true ">{{resultadoEnGrupoDeContra(grupo, jugador, jOp)}}</td>
                                            <td align="left">{{partidosGanadosEnGrupo(grupo, jugador)}}</td>
                                            <td align="left">{{setsGanadosEnGrupo(grupo, jugador)}}</td>
                                            <td align="left">{{puntosGanadosEnGrupo(grupo, jugador)}}</td>
                                            <td align="left">{{posicionEnGrupo(grupo, jugador)}}</td>
                                            <td> {{coeficienteEnGrupoPara(grupo, jugador)}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <button ng-click="editar_grupo(grupo.id)">
                                    Editar
                                </button> 
                                <div data-ng-show="editando_grupo(grupo.id)">
                                    <div ng-repeat="partido in grupo.partidos">
                                        <table class="table table-condensed">
                                            Partido {{partidos.indexOf(partido) + 1}}
                                            <thead>
                                                <tr>
                                                    <th> Jugadores </th>
                                                    <th ng-repeat="set in partido.sets"> Set {{partido.sets.indexOf(set) + 1}} </th>
                                                    <th> Resultado final </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td> {{partido.jugador1.nombre}} </td>
                                                    <td ng-repeat="set in partido.sets"> <input ng-model="set[partido.jugador1.id]" placeholder="0" size="4"> </td>
                                                    <td> <input ng-model="partido.final[partido.jugador1.id]" placeholder="0" size="4"></td>
                                                </tr>
                                                <tr>
                                                    <td> {{partido.jugador2.nombre}} </td>
                                                    <td ng-repeat="set in partido.sets"> <input ng-model="set[partido.jugador2.id]" placeholder="0" size="4"> </td>
                                                    <td> <input ng-model="partido.final[partido.jugador2.id]" placeholder="0" size="4"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>                             
                    </div>                    
                </div>
                <div id="llave_frame" data-ng-show="seSeleccionoFrame('llave')">
                    llave final
                    
                    
                </div>
            </div>
        </div>
        <div id="footer">
        </div>
    </div>
</body>
</html>